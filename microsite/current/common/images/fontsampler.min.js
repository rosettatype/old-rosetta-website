!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.FS=f()}}(function(){var define;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(_dereq_,module,exports){(function(global){(function(){!function(f){if("object"==typeof exports&&void 0!==module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this,g.FontsamplerSkin=f()}}(function(){var define;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof _dereq_&&_dereq_;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof _dereq_&&_dereq_,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(_dereq_,module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dropkickjs=t():e.dropkickjs=t()}(this,function(){return function(e){function t(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),o=i(1),d=s(o),r=i(2),c=s(r),h=i(3),u=s(h),f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=window.parent!==window.self,b=void 0,m=function(){function e(t,i){a(this,e),this.sel=t;var s=void 0,n=void 0,l=window.Dropkick;for("string"==typeof this.sel&&"#"===this.sel[0]&&(this.sel=document.getElementById(t.substr(1))),s=0;s<l.uid;s++)if((n=l.cache[s])instanceof e&&n.data.select===this.sel)return d.default.extend(n.data.settings,i),n;if(!this.sel)throw"You must pass a select to DropKick";if(this.sel.length<1)throw"You must have options inside your <select>: "+t;if("SELECT"===this.sel.nodeName)return this.init(this.sel,i)}return l(e,[{key:"init",value:function(t,i){var s,a=window.Dropkick,n=e.build(t,"dk"+a.uid);if(this.data={},this.data.select=t,this.data.elem=n.elem,this.data.settings=d.default.extend({},c.default,i),this.disabled=t.disabled,this.form=t.form,this.length=t.length,this.multiple=t.multiple,this.options=n.options.slice(0),this.selectedIndex=t.selectedIndex,this.selectedOptions=n.selected.slice(0),this.value=t.value,this.data.cacheID=a.uid,a.cache[this.data.cacheID]=this,this.data.settings.initialize.call(this),a.uid+=1,this._changeListener||(t.addEventListener("change",this),this._changeListener=!0),!f||this.data.settings.mobile){if(t.parentNode.insertBefore(this.data.elem,t),t.setAttribute("data-dkCacheId",this.data.cacheID),this.data.elem.addEventListener("click",this),this.data.elem.addEventListener("keydown",this),this.data.elem.addEventListener("keypress",this),this.form&&this.form.addEventListener("reset",this),!this.multiple)for(s=0;s<this.options.length;s++)this.options[s].addEventListener("mouseover",this);b||(document.addEventListener("click",e.onDocClick),p&&parent.document.addEventListener("click",e.onDocClick),b=!0)}return this}},{key:"add",value:function(e,t){var i,s,a;"string"==typeof e&&(i=e,e=document.createElement("option"),e.text=i),"OPTION"===e.nodeName&&(s=d.default.create("li",{class:"dk-option","data-value":e.value,text:e.text,innerHTML:e.innerHTML,role:"option","aria-selected":"false",id:"dk"+this.data.cacheID+"-"+(e.id||e.value.replace(" ","-"))}),d.default.addClass(s,e.className),this.length+=1,e.disabled&&(d.default.addClass(s,"dk-option-disabled"),s.setAttribute("aria-disabled","true")),e.hidden&&(d.default.addClass(s,"dk-option-hidden"),s.setAttribute("aria-hidden","true")),this.data.select.add(e,t),"number"==typeof t&&(t=this.item(t)),a=this.options.indexOf(t),a>-1?(t.parentNode.insertBefore(s,t),this.options.splice(a,0,s)):(this.data.elem.lastChild.appendChild(s),this.options.push(s)),s.addEventListener("mouseover",this),e.selected&&this.select(a))}},{key:"item",value:function(e){return e=e<0?this.options.length+e:e,this.options[e]||null}},{key:"remove",value:function(e){var t=this.item(e);t.parentNode.removeChild(t),this.options.splice(e,1),this.data.select.remove(e),this.select(this.data.select.selectedIndex),this.length-=1}},{key:"close",value:function(){var e,t=this.data.elem;if(!this.isOpen||this.multiple)return!1;for(e=0;e<this.options.length;e++)d.default.removeClass(this.options[e],"dk-option-highlight");t.lastChild.setAttribute("aria-expanded","false"),d.default.removeClass(t.lastChild,"dk-select-options-highlight"),d.default.removeClass(t,"dk-select-open-(up|down)"),this.isOpen=!1,this.data.settings.close.call(this)}},{key:"open",value:function(){var e=void 0,t=void 0,i=void 0,s=void 0,a=void 0,n=void 0,l=this.data.elem,o=l.lastChild,r=void 0!==window.pageXOffset,c="CSS1Compat"===(document.compatMode||""),h=r?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop;if(a=d.default.offset(l).top-h,n=window.innerHeight-(a+l.offsetHeight),this.isOpen||this.multiple)return!1;o.style.display="block",e=o.offsetHeight,o.style.display="",t=a>e,i=n>e,s=t&&!i?"-up":"-down",this.isOpen=!0,d.default.addClass(l,"dk-select-open"+s),o.setAttribute("aria-expanded","true"),this._scrollTo(this.options.length-1),this._scrollTo(this.selectedIndex),this.data.settings.open.call(this)}},{key:"disable",value:function(e,t){var i="dk-option-disabled";0!==arguments.length&&"boolean"!=typeof e||(t=void 0===e,e=this.data.elem,i="dk-select-disabled",this.disabled=t),void 0===t&&(t=!0),"number"==typeof e&&(e=this.item(e)),t?(e.setAttribute("aria-disabled",!0),d.default.addClass(e,i)):(e.setAttribute("aria-disabled",!1),d.default.removeClass(e,i))}},{key:"hide",value:function(e,t){void 0===t&&(t=!0),e=this.item(e),t?(e.setAttribute("aria-hidden",!0),d.default.addClass(e,"dk-option-hidden")):(e.setAttribute("aria-hidden",!1),d.default.removeClass(e,"dk-option-hidden"))}},{key:"select",value:function(e,t){var i,s,a,n,l=this.data.select;if("number"==typeof e&&(e=this.item(e)),"string"==typeof e)for(i=0;i<this.length;i++)this.options[i].getAttribute("data-value")===e&&(e=this.options[i]);return!(!e||"string"==typeof e||!t&&d.default.hasClass(e,"dk-option-disabled"))&&(d.default.hasClass(e,"dk-option")?(s=this.options.indexOf(e),a=l.options[s],this.multiple?(d.default.toggleClass(e,"dk-option-selected"),a.selected=!a.selected,d.default.hasClass(e,"dk-option-selected")?(e.setAttribute("aria-selected","true"),this.selectedOptions.push(e)):(e.setAttribute("aria-selected","false"),s=this.selectedOptions.indexOf(e),this.selectedOptions.splice(s,1))):(n=this.data.elem.firstChild,this.selectedOptions.length&&(d.default.removeClass(this.selectedOptions[0],"dk-option-selected"),this.selectedOptions[0].setAttribute("aria-selected","false")),d.default.addClass(e,"dk-option-selected"),e.setAttribute("aria-selected","true"),n.setAttribute("aria-activedescendant",e.id),n.className="dk-selected "+a.className,n.innerHTML=a.innerHTML,this.selectedOptions[0]=e,a.selected=!0),this.selectedIndex=l.selectedIndex,this.value=l.value,t||this.data.select.dispatchEvent(new u.default("change",{bubbles:this.data.settings.bubble})),e):void 0)}},{key:"selectOne",value:function(e,t){return this.reset(!0),this._scrollTo(e),this.select(e,t)}},{key:"search",value:function(e,t){var i,s,a,n,l,o,d,r,c=this.data.select.options,h=[];if(!e)return this.options;for(t=t?t.toLowerCase():"strict",t="fuzzy"===t?2:"partial"===t?1:0,r=new RegExp((t?"":"^")+e,"i"),i=0;i<c.length;i++)if(a=c[i].text.toLowerCase(),2==t){for(s=e.toLowerCase().split(""),n=l=o=d=0;l<a.length;)a[l]===s[n]?(o+=1+o,n++):o=0,d+=o,l++;n===s.length&&h.push({e:this.options[i],s:d,i:i})}else r.test(a)&&h.push(this.options[i]);return 2===t&&(h=h.sort(function(e,t){return t.s-e.s||e.i-t.i}).reduce(function(e,t){return e[e.length]=t.e,e},[])),h}},{key:"focus",value:function(){this.disabled||(this.multiple?this.data.elem:this.data.elem.children[0]).focus()}},{key:"reset",value:function(e){var t,i=this.data.select;for(this.selectedOptions.length=0,t=0;t<i.options.length;t++)i.options[t].selected=!1,d.default.removeClass(this.options[t],"dk-option-selected"),this.options[t].setAttribute("aria-selected","false"),!e&&i.options[t].defaultSelected&&this.select(t,!0);this.selectedOptions.length||this.multiple||this.select(0,!0)}},{key:"refresh",value:function(){Object.keys(this).length>0&&(!f||this.data.settings.mobile)&&this.dispose().init(this.data.select,this.data.settings)}},{key:"dispose",value:function(){var e=window.Dropkick;return Object.keys(this).length>0&&(!f||this.data.settings.mobile)&&(delete e.cache[this.data.cacheID],this.data.elem.parentNode.removeChild(this.data.elem),this.data.select.removeAttribute("data-dkCacheId")),this}},{key:"handleEvent",value:function(e){if(!this.disabled)switch(e.type){case"click":this._delegate(e);break;case"keydown":this._keyHandler(e);break;case"keypress":this._searchOptions(e);break;case"mouseover":this._highlight(e);break;case"reset":this.reset();break;case"change":this.data.settings.change.call(this)}}},{key:"_delegate",value:function(e){var t,i,s,a,n=e.target;if(d.default.hasClass(n,"dk-option-disabled"))return!1;if(this.multiple){if(d.default.hasClass(n,"dk-option"))if(t=window.getSelection(),"Range"===t.type&&t.collapseToStart(),e.shiftKey)if(s=this.options.indexOf(this.selectedOptions[0]),a=this.options.indexOf(this.selectedOptions[this.selectedOptions.length-1]),i=this.options.indexOf(n),i>s&&i<a&&(i=s),i>a&&a>s&&(a=s),this.reset(!0),a>i)for(;i<a+1;)this.select(i++);else for(;i>a-1;)this.select(i--);else e.ctrlKey||e.metaKey?this.select(n):(this.reset(!0),this.select(n))}else this[this.isOpen?"close":"open"](),d.default.hasClass(n,"dk-option")&&this.select(n)}},{key:"_highlight",value:function(e){var t,i=e.target;if(!this.multiple){for(t=0;t<this.options.length;t++)d.default.removeClass(this.options[t],"dk-option-highlight");d.default.addClass(this.data.elem.lastChild,"dk-select-options-highlight"),d.default.addClass(i,"dk-option-highlight")}}},{key:"_keyHandler",value:function(e){var t,i,s=this.selectedOptions,a=this.options,n=1,l={tab:9,enter:13,esc:27,space:32,up:38,down:40};switch(e.keyCode){case l.up:n=-1;case l.down:if(e.preventDefault(),t=s[s.length-1],d.default.hasClass(this.data.elem.lastChild,"dk-select-options-highlight"))for(d.default.removeClass(this.data.elem.lastChild,"dk-select-options-highlight"),i=0;i<a.length;i++)d.default.hasClass(a[i],"dk-option-highlight")&&(d.default.removeClass(a[i],"dk-option-highlight"),t=a[i]);n=a.indexOf(t)+n,n>a.length-1?n=a.length-1:n<0&&(n=0),this.data.select.options[n].disabled||(this.reset(!0),this.select(n),this._scrollTo(n));break;case l.space:if(!this.isOpen){e.preventDefault(),this.open();break}case l.tab:case l.enter:for(n=0;n<a.length;n++)d.default.hasClass(a[n],"dk-option-highlight")&&this.select(n);case l.esc:this.isOpen&&(e.preventDefault(),this.close())}}},{key:"_searchOptions",value:function(e){var t,i=this,s=String.fromCharCode(e.keyCode||e.which);void 0===this.data.searchString&&(this.data.searchString=""),function(){i.data.searchTimeout&&clearTimeout(i.data.searchTimeout),i.data.searchTimeout=setTimeout(function(){i.data.searchString=""},1e3)}(),this.data.searchString+=s,t=this.search(this.data.searchString,this.data.settings.search),t.length&&(d.default.hasClass(t[0],"dk-option-disabled")||this.selectOne(t[0]))}},{key:"_scrollTo",value:function(e){var t,i,s,a=this.data.elem.lastChild;if(-1===e||"number"!=typeof e&&!e||!this.isOpen&&!this.multiple)return!1;"number"==typeof e&&(e=this.item(e)),t=d.default.position(e,a).top,i=t-a.scrollTop,s=i+e.offsetHeight,s>a.offsetHeight?(t+=e.offsetHeight,a.scrollTop=t-a.offsetHeight):i<0&&(a.scrollTop=t)}}]),e}();window.Dropkick=m,window.Dropkick.cache={},window.Dropkick.uid=0,m.build=function(e,t){var i,s,a,n=[],l={elem:null,options:[],selected:[]},o=function e(i){var s,a,n,o,r=[];switch(i.nodeName){case"OPTION":s=d.default.create("li",{class:"dk-option ","data-value":i.value,text:i.text,innerHTML:i.innerHTML,role:"option","aria-selected":"false",id:t+"-"+(i.id||i.value.replace(" ","-"))}),d.default.addClass(s,i.className),i.disabled&&(d.default.addClass(s,"dk-option-disabled"),s.setAttribute("aria-disabled","true")),i.hidden&&(d.default.addClass(s,"dk-option-hidden"),s.setAttribute("aria-hidden","true")),i.selected&&(d.default.addClass(s,"dk-option-selected"),s.setAttribute("aria-selected","true"),l.selected.push(s)),l.options.push(this.appendChild(s));break;case"OPTGROUP":for(a=d.default.create("li",{class:"dk-optgroup"}),i.label&&a.appendChild(d.default.create("div",{class:"dk-optgroup-label",innerHTML:i.label})),n=d.default.create("ul",{class:"dk-optgroup-options"}),o=i.children.length;o--;r.unshift(i.children[o]));i.disabled&&(a.classList.add("dk-optgroup-disabled"),r.forEach(function(e){e.disabled=i.disabled})),r.forEach(e,n),this.appendChild(a).appendChild(n)}};for(l.elem=d.default.create("div",{class:"dk-select"+(e.multiple?"-multi":"")}),s=d.default.create("ul",{class:"dk-select-options",id:t+"-listbox",role:"listbox"}),e.disabled&&(d.default.addClass(l.elem,"dk-select-disabled"),l.elem.setAttribute("aria-disabled",!0)),l.elem.id=t+(e.id?"-"+e.id:""),d.default.addClass(l.elem,e.className),e.multiple?(l.elem.setAttribute("tabindex",e.getAttribute("tabindex")||"0"),s.setAttribute("aria-multiselectable","true")):(i=e.options[e.selectedIndex],l.elem.appendChild(d.default.create("div",{class:"dk-selected "+(i?i.className:""),tabindex:e.tabindex||0,innerHTML:i?i.text:"&nbsp;",id:t+"-combobox","aria-live":"assertive","aria-owns":s.id,role:"combobox"})),s.setAttribute("aria-expanded","false")),a=e.children.length;a--;n.unshift(e.children[a]));return n.forEach(o,l.elem.appendChild(s)),l},m.onDocClick=function(e){var t,i,s=window.Dropkick;if(1!==e.target.nodeType)return!1;null!==(t=e.target.getAttribute("data-dkcacheid"))&&s.cache[t].focus();for(i in s.cache)d.default.closest(e.target,s.cache[i].data.elem)||i===t||s.cache[i].disabled||s.cache[i].close()},void 0!==window.jQuery&&(window.jQuery.fn.dropkick=function(){var e=Array.prototype.slice.call(arguments);return jQuery(this).each(function(){e[0]&&"object"!==n(e[0])?"string"==typeof e[0]&&m.prototype[e[0]].apply(new m(this),e.slice(1)):new m(this,e[0]||{})})}),t.default=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=-1!==navigator.appVersion.indexOf("MSIE"),a={hasClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return e&&i.test(e.className)},addClass:function(e,t){e&&!this.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e&&(e.className=e.className.replace(i," "))},toggleClass:function(e,t){[(this.hasClass(e,t)?"remove":"add")+"Class"](e,t)},extend:function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var i in t)e[i]=t[i]}),e},offset:function(e){var t=e.getBoundingClientRect()||{top:0,left:0},i=document.documentElement,a=s?i.scrollTop:window.pageYOffset,n=s?i.scrollLeft:window.pageXOffset;return{top:t.top+a-i.clientTop,left:t.left+n-i.clientLeft}},position:function(e,t){for(var i={top:0,left:0};e&&e!==t;)i.top+=e.offsetTop,i.left+=e.offsetLeft,e=e.parentNode;return i},closest:function(e,t){for(;e;){if(e===t)return e;e=e.parentNode}return!1},create:function(e,t){var i=void 0,s=document.createElement(e);t||(t={});for(i in t)t.hasOwnProperty(i)&&("innerHTML"===i?s.innerHTML=t[i]:s.setAttribute(i,t[i]));return s},deferred:function(e){return function(){var t=this,i=arguments;window.setTimeout(function(){e.apply(t,i)},1)}}};t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={initialize:function(){},mobile:!0,change:function(){},open:function(){},close:function(){},search:"strict",bubble:!0};t.default=s},function(e,t,i){(function(t){var i=t.CustomEvent;e.exports=function(){try{var e=new i("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?i:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var i=document.createEvent("CustomEvent");return t?i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):i.initCustomEvent(e,!1,!1,void 0),i}:function(e,t){var i=document.createEventObject();return i.type=e,t?(i.bubbles=Boolean(t.bubbles),i.cancelable=Boolean(t.cancelable),i.detail=t.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(t,i(4))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}])})},{}],2:[function(_dereq_,module,exports){!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("rangeSlider",[],factory):"object"==typeof exports?exports.rangeSlider=factory():root.rangeSlider=factory()}(window,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/range-slider.js")}({"./src/range-slider.css":function(module,exports,__webpack_require__){},"./src/range-slider.js":function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_dom=__webpack_require__("./src/utils/dom.js"),dom=_interopRequireWildcard(_dom),_functions=__webpack_require__("./src/utils/functions.js"),func=_interopRequireWildcard(_functions);__webpack_require__("./src/range-slider.css");var newLineAndTabRegexp=new RegExp("/[\\n\\t]/","g"),MAX_SET_BY_DEFAULT=100,pluginName="rangeSlider",inputrange=dom.supportsRange(),defaults={polyfill:!0,root:document,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:!1},RangeSlider=function(){function RangeSlider(element,options){_classCallCheck(this,RangeSlider);var minSetByDefault=void 0,maxSetByDefault=void 0,stepSetByDefault=void 0,stickAttribute=void 0,stickValues=void 0;if(this.element=element,this.options=func.simpleExtend(defaults,options),this.polyfill=this.options.polyfill,this.vertical=this.options.vertical,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideStart=this.options.onSlideStart,this.onSlideEnd=this.options.onSlideEnd,this.onSlideEventsCount=-1,this.isInteractsNow=!1,this.needTriggerEvents=!1,this.polyfill||!inputrange){this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer")),this.identifier="js-"+pluginName+"-"+func.uuid(),this.min=func.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),minSetByDefault=0),this.max=func.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),maxSetByDefault=MAX_SET_BY_DEFAULT),this.value=func.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2)),this.step=func.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(stepSetByDefault=1)),this.percent=null,func.isArray(this.options.stick)&&this.options.stick.length>=1?this.stick=this.options.stick:(stickAttribute=this.element.getAttribute("stick"))&&(stickValues=stickAttribute.split(" "),stickValues.length>=1&&(this.stick=stickValues.map(parseFloat))),this.stick&&1===this.stick.length&&this.stick.push(1.5*this.step),this._updatePercentFromValue(),this.toFixed=this._toFixed(this.step);var directionClass=void 0;this.container=document.createElement("div"),dom.addClass(this.container,this.options.fillClass),directionClass=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal",dom.addClass(this.container,directionClass),this.handle=document.createElement("div"),dom.addClass(this.handle,this.options.handleClass),directionClass=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal",dom.addClass(this.handle,directionClass),this.range=document.createElement("div"),dom.addClass(this.range,this.options.rangeClass),this.range.id=this.identifier,this.options.bufferClass&&(this.buffer=document.createElement("div"),dom.addClass(this.buffer,this.options.bufferClass),this.range.appendChild(this.buffer),directionClass=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal",dom.addClass(this.buffer,directionClass)),this.range.appendChild(this.container),this.range.appendChild(this.handle),directionClass=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal",dom.addClass(this.range,directionClass),func.isNumberLike(this.options.value)&&(this._setValue(this.options.value,!0),this.element.value=this.options.value),func.isNumberLike(this.options.buffer)&&this.element.setAttribute("data-buffer",this.options.buffer),(func.isNumberLike(this.options.min)||minSetByDefault)&&this.element.setAttribute("min",""+this.min),(func.isNumberLike(this.options.max)||maxSetByDefault)&&this.element.setAttribute("max",""+this.max),(func.isNumberLike(this.options.step)||stepSetByDefault)&&this.element.setAttribute("step",""+this.step),dom.insertAfter(this.element,this.range),dom.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this._handleDown=this._handleDown.bind(this),this._handleMove=this._handleMove.bind(this),this._handleEnd=this._handleEnd.bind(this),this._startEventListener=this._startEventListener.bind(this),this._changeEventListener=this._changeEventListener.bind(this),this._handleResize=this._handleResize.bind(this),this._init(),window.addEventListener("resize",this._handleResize,!1),dom.addEventListeners(this.options.root,this.options.startEvent,this._startEventListener),this.element.addEventListener("change",this._changeEventListener,!1)}}return _createClass(RangeSlider,[{key:"update",value:function(obj,triggerEvents){return triggerEvents&&(this.needTriggerEvents=!0),func.isObject(obj)&&(func.isNumberLike(obj.min)&&(this.element.setAttribute("min",""+obj.min),this.min=obj.min),func.isNumberLike(obj.max)&&(this.element.setAttribute("max",""+obj.max),this.max=obj.max),func.isNumberLike(obj.step)&&(this.element.setAttribute("step",""+obj.step),this.step=obj.step,this.toFixed=this._toFixed(obj.step)),func.isNumberLike(obj.buffer)&&this._setBufferPosition(obj.buffer),func.isNumberLike(obj.value)&&this._setValue(obj.value)),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){dom.removeAllListenersFromEl(this,this.options.root),window.removeEventListener("resize",this._handleResize,!1),this.element.removeEventListener("change",this._changeEventListener,!1),this.element.style.cssText="",delete this.element[pluginName],this.range&&this.range.parentNode.removeChild(this.range)}},{key:"_toFixed",value:function(step){return(step+"").replace(".","").length-1}},{key:"_init",value:function(){this.onInit&&"function"==typeof this.onInit&&this.onInit(),this._update(!1)}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(ev,data){var _this=this,el=ev.target,isEventOnSlider=!1;(1===ev.which||"touches"in ev)&&(dom.forEachAncestors(el,function(el){return isEventOnSlider=el.id===_this.identifier&&!dom.hasClass(el,_this.options.disabledClass)},!0),isEventOnSlider&&this._handleDown(ev,data))}},{key:"_changeEventListener",value:function(ev,data){if(!data||data.origin!==this.identifier){var value=ev.target.value,pos=this._getPositionFromValue(value);this._setPosition(pos)}}},{key:"_update",value:function(triggerEvent){var sizeProperty=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=dom.getDimension(this.handle,sizeProperty),this.rangeSize=dom.getDimension(this.range,sizeProperty),this.maxHandleX=this.rangeSize-this.handleSize,this.grabX=this.handleSize/2,this.position=this._getPositionFromValue(this.value),this.element.disabled?dom.addClass(this.range,this.options.disabledClass):dom.removeClass(this.range,this.options.disabledClass),this._setPosition(this.position),this.options.bufferClass&&this.options.buffer&&this._setBufferPosition(this.options.buffer),this._updatePercentFromValue(),!1!==triggerEvent&&dom.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_handleResize",value:function(){var _this2=this;return func.debounce(function(){func.delay(function(){_this2._update()},300)},50)()}},{key:"_handleDown",value:function(e){if(this.isInteractsNow=!0,e.preventDefault(),dom.addEventListeners(this.options.root,this.options.moveEvent,this._handleMove),dom.addEventListeners(this.options.root,this.options.endEvent,this._handleEnd),!((" "+e.target.className+" ").replace(newLineAndTabRegexp," ").indexOf(this.options.handleClass)>-1)){var boundingClientRect=this.range.getBoundingClientRect(),posX=this._getRelativePosition(e),rangeX=this.vertical?boundingClientRect.bottom:boundingClientRect.left,handleX=this._getPositionFromNode(this.handle)-rangeX,position=posX-this.grabX;this._setPosition(position),posX>=handleX&&posX<handleX+2*this.options.borderRadius&&(this.grabX=posX-handleX),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(e){var posX=this._getRelativePosition(e);this.isInteractsNow=!0,e.preventDefault(),this._setPosition(posX-this.grabX)}},{key:"_handleEnd",value:function(e){e.preventDefault(),dom.removeEventListeners(this.options.root,this.options.moveEvent,this._handleMove),dom.removeEventListeners(this.options.root,this.options.endEvent,this._handleEnd),dom.triggerEvent(this.element,"change",{origin:this.identifier}),(this.isInteractsNow||this.needTriggerEvents)&&this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.value,this.percent,this.position),this.onSlideEventsCount=0,this.isInteractsNow=!1}},{key:"_setPosition",value:function(pos){var position=void 0,stickRadius=void 0,restFromValue=void 0,stickTo=void 0,value=this._getValueFromPosition(func.between(pos,0,this.maxHandleX));this.stick&&(stickTo=this.stick[0],stickRadius=this.stick[1]||.1,restFromValue=value%stickTo,restFromValue<stickRadius?value-=restFromValue:Math.abs(stickTo-restFromValue)<stickRadius&&(value=value-restFromValue+stickTo)),position=this._getPositionFromValue(value),this.vertical?(this.container.style.height=position+this.grabX+"px",this.handle.style.webkitTransform="translateY(-"+position+"px)",this.handle.style.msTransform="translateY(-"+position+"px)",this.handle.style.transform="translateY(-"+position+"px)"):(this.container.style.width=position+this.grabX+"px",this.handle.style.webkitTransform="translateX("+position+"px)",this.handle.style.msTransform="translateX("+position+"px)",this.handle.style.transform="translateX("+position+"px)"),this._setValue(value),this.position=position,this.value=value,this._updatePercentFromValue(),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideStart&&"function"==typeof this.onSlideStart&&0===this.onSlideEventsCount&&this.onSlideStart(this.value,this.percent,this.position),this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(this.value,this.percent,this.position)),this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function(pos){var isPercent=!0;if(isFinite(pos))pos=parseFloat(pos);else{if(!func.isString(pos))return;pos.indexOf("px")>0&&(isPercent=!1),pos=parseFloat(pos)}if(!isNaN(pos)&&this.options.bufferClass){var bufferSize=isPercent?pos:pos/this.rangeSize*100;bufferSize<0&&(bufferSize=0),bufferSize>100&&(bufferSize=100),this.options.buffer=bufferSize;var paddingSize=this.options.borderRadius/this.rangeSize*100,bufferSizeWithPadding=bufferSize-paddingSize
;bufferSizeWithPadding<0&&(bufferSizeWithPadding=0),this.vertical?(this.buffer.style.height=bufferSizeWithPadding+"%",this.buffer.style.bottom=.5*paddingSize+"%"):(this.buffer.style.width=bufferSizeWithPadding+"%",this.buffer.style.left=.5*paddingSize+"%"),this.element.setAttribute("data-buffer",bufferSize)}}},{key:"_getPositionFromNode",value:function(node){for(var i=this.vertical?this.maxHandleX:0;null!==node;)i+=this.vertical?node.offsetTop:node.offsetLeft,node=node.offsetParent;return i}},{key:"_getRelativePosition",value:function(e){var boundingClientRect=this.range.getBoundingClientRect(),rangeSize=this.vertical?boundingClientRect.bottom:boundingClientRect.left,pageOffset=0,pagePositionProperty=this.vertical?"pageY":"pageX";return void 0!==e[pagePositionProperty]?pageOffset=e.touches&&e.touches.length?e.touches[0][pagePositionProperty]:e[pagePositionProperty]:void 0!==e.originalEvent?void 0!==e.originalEvent[pagePositionProperty]?pageOffset=e.originalEvent[pagePositionProperty]:e.originalEvent.touches&&e.originalEvent.touches[0]&&void 0!==e.originalEvent.touches[0][pagePositionProperty]&&(pageOffset=e.originalEvent.touches[0][pagePositionProperty]):e.touches&&e.touches[0]&&void 0!==e.touches[0][pagePositionProperty]?pageOffset=e.touches[0][pagePositionProperty]:!e.currentPoint||void 0===e.currentPoint.x&&void 0===e.currentPoint.y||(pageOffset=this.vertical?e.currentPoint.y:e.currentPoint.x),this.vertical&&(pageOffset-=window.pageYOffset),this.vertical?rangeSize-pageOffset:pageOffset-rangeSize}},{key:"_getPositionFromValue",value:function(value){var percentage=(value-this.min)/(this.max-this.min),pos=percentage*this.maxHandleX;return isNaN(pos)?0:pos}},{key:"_getValueFromPosition",value:function(pos){var percentage=pos/(this.maxHandleX||1),value=this.step*Math.round(percentage*(this.max-this.min)/this.step)+this.min;return Number(value.toFixed(this.toFixed))}},{key:"_setValue",value:function(value,force){(value!==this.value||force)&&(this.element.value=value,this.value=value,dom.triggerEvent(this.element,"input",{origin:this.identifier}))}}],[{key:"create",value:function(el,options){var createInstance=function(el){var data=el[pluginName];data||(data=new RangeSlider(el,options),el[pluginName]=data)};el.length?Array.prototype.slice.call(el).forEach(function(el){createInstance(el)}):createInstance(el)}}]),RangeSlider}();exports.default=RangeSlider,RangeSlider.version="0.4.9",RangeSlider.dom=dom,RangeSlider.functions=func,module.exports=exports.default},"./src/utils/dom.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.supportsRange=exports.removeAllListenersFromEl=exports.removeEventListeners=exports.addEventListeners=exports.insertAfter=exports.triggerEvent=exports.forEachAncestors=exports.removeClass=exports.addClass=exports.hasClass=exports.setCss=exports.getDimension=exports.getHiddenParentNodes=exports.isHidden=exports.detectIE=void 0;var _functions=__webpack_require__("./src/utils/functions.js"),func=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_functions),detectIE=exports.detectIE=function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},ieVersion=detectIE(),eventCaptureParams=!(!window.PointerEvent||ieVersion)&&{passive:!1},isHidden=exports.isHidden=function(element){return 0===element.offsetWidth||0===element.offsetHeight||!1===element.open},getHiddenParentNodes=exports.getHiddenParentNodes=function(element){for(var parents=[],node=element.parentNode;node&&isHidden(node);)parents.push(node),node=node.parentNode;return parents},hasClass=(exports.getDimension=function(element,key){var hiddenParentNodes=getHiddenParentNodes(element),hiddenParentNodesLength=hiddenParentNodes.length,hiddenParentNodesStyle=[],dimension=element[key],toggleOpenProperty=function(element){void 0!==element.open&&(element.open=!element.open)};if(hiddenParentNodesLength){for(var i=0;i<hiddenParentNodesLength;i++)hiddenParentNodesStyle.push({display:hiddenParentNodes[i].style.display,height:hiddenParentNodes[i].style.height,overflow:hiddenParentNodes[i].style.overflow,visibility:hiddenParentNodes[i].style.visibility}),hiddenParentNodes[i].style.display="block",hiddenParentNodes[i].style.height="0",hiddenParentNodes[i].style.overflow="hidden",hiddenParentNodes[i].style.visibility="hidden",toggleOpenProperty(hiddenParentNodes[i]);dimension=element[key];for(var j=0;j<hiddenParentNodesLength;j++)toggleOpenProperty(hiddenParentNodes[j]),hiddenParentNodes[j].style.display=hiddenParentNodesStyle[j].display,hiddenParentNodes[j].style.height=hiddenParentNodesStyle[j].height,hiddenParentNodes[j].style.overflow=hiddenParentNodesStyle[j].overflow,hiddenParentNodes[j].style.visibility=hiddenParentNodesStyle[j].visibility}return dimension},exports.setCss=function(el,cssObj){for(var key in cssObj)el.style[key]=cssObj[key];return el.style},exports.hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")});exports.addClass=function(elem,className){hasClass(elem,className)||(elem.className+=" "+className)},exports.removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){for(;newClass.indexOf(" "+className+" ")>=0;)newClass=newClass.replace(" "+className+" "," ");elem.className=newClass.replace(/^\s+|\s+$/g,"")}},exports.forEachAncestors=function(el,callback,andForElement){for(andForElement&&callback(el);el.parentNode&&!callback(el);)el=el.parentNode;return el},exports.triggerEvent=function(el,name,data){if(!func.isString(name))throw new TypeError("event name must be String");if(!(el instanceof HTMLElement))throw new TypeError("element must be HTMLElement");name=name.trim();var event=document.createEvent("CustomEvent");event.initCustomEvent(name,!1,!1,data),el.dispatchEvent(event)},exports.insertAfter=function(referenceNode,newNode){return referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)},exports.addEventListeners=function(el,events,listener){events.forEach(function(eventName){el.eventListenerList||(el.eventListenerList={}),el.eventListenerList[eventName]||(el.eventListenerList[eventName]=[]),el.addEventListener(eventName,listener,eventCaptureParams),el.eventListenerList[eventName].indexOf(listener)<0&&el.eventListenerList[eventName].push(listener)})},exports.removeEventListeners=function(el,events,listener){events.forEach(function(eventName){var index=void 0;el.removeEventListener(eventName,listener,!1),el.eventListenerList&&el.eventListenerList[eventName]&&(index=el.eventListenerList[eventName].indexOf(listener))>-1&&el.eventListenerList[eventName].splice(index,1)})},exports.removeAllListenersFromEl=function(instance,el){function rm(listener){listener===instance._startEventListener&&this.el.removeEventListener(this.eventName,listener,!1)}if(el.eventListenerList){for(var eventName in el.eventListenerList)el.eventListenerList[eventName].forEach(rm,{eventName:eventName,el:el});el.eventListenerList={}}},exports.supportsRange=function(){var input=document.createElement("input");return input.setAttribute("type","range"),"text"!==input.type}},"./src/utils/functions.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isString=(exports.uuid=function(){var s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()},exports.delay=function(fn,wait){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];return setTimeout(function(){return fn.apply(null,args)},wait)},exports.debounce=function(fn){var debounceDuration=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return fn.debouncing||(fn.lastReturnVal=fn.apply(window,args),fn.debouncing=!0),clearTimeout(fn.debounceTimeout),fn.debounceTimeout=setTimeout(function(){fn.debouncing=!1},debounceDuration),fn.lastReturnVal}},exports.isString=function(obj){return obj===""+obj}),isNumberLike=(exports.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},exports.isNumberLike=function(obj){return null!==obj&&void 0!==obj&&(isString(obj)&&isFinite(parseFloat(obj))||isFinite(obj))});exports.getFirsNumberLike=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];if(!args.length)return null;for(var i=0,len=args.length;i<len;i++)if(isNumberLike(args[i]))return args[i];return null},exports.isObject=function(obj){return"[object Object]"===Object.prototype.toString.call(obj)},exports.simpleExtend=function(defaultOpt,options){var opt={};for(var key in defaultOpt)opt[key]=defaultOpt[key];for(var _key4 in options)opt[_key4]=options[_key4];return opt},exports.between=function(pos,min,max){return pos<min?min:pos>max?max:pos}}})})},{}],3:[function(_dereq_,module,exports){module.exports={init:"fontsampler.events.init",skinInit:"fontsampler.events.skininit",languageChanged:"fontsampler.events.languagechanged",fontChanged:"fontsampler.events.fontchanged",fontLoaded:"fontsampler.events.fontloaded",fontRendered:"fontsampler.events.fontrendered",fontsPreloaded:"fontsampler.events.fontspreloaded",valueChanged:"fontsampler.events.valuechanged",opentypeChanged:"fontsampler.events.opentypechanged",focused:"fontsampler.events.focused",blurred:"fontsampler.events.blurred"}},{}],4:[function(_dereq_,module,exports){function pruneClass(className,classNames){if(!classNames)return"";if(classNames=classNames.trim(),!className)return classNames;className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);return-1!==classIndex&&classes.splice(classIndex,1),classes.length>0?classes.join(" "):""}function addClass(className,classNames){return classNames||(classNames=""),className===classNames?classNames:(classNames=classNames.trim(),className?(className=className.trim(),-1===classNames.split(" ").indexOf(className)?classNames?classNames+" "+className:className:classNames):classNames)}function nodeAddClass(node,className){return!(!isNode(node)||"string"!=typeof className)&&(node.className=addClass(className,node.className),!0)}function nodeAddClasses(node,classes){if(!isNode(node)||!Array.isArray(classes)||classes.length<1)return!1;for(var c=0;c<classes.length;c++)node.className=addClass(classes[c],node.className);return!0}function nodeRemoveClass(node,className){return!(!isNode(node)||"string"!=typeof className)&&(node.className=pruneClass(className,node.className),!0)}function isNode(node){return"object"==typeof node&&null!==node&&"nodeType"in node}module.exports={nodeAddClass:nodeAddClass,nodeAddClasses:nodeAddClasses,nodeRemoveClass:nodeRemoveClass,isNode:isNode}},{}],5:[function(_dereq_,module,exports){function Skin(FS){function init(){if(!0===FS.initialized)throw new Error("FontsamplerSkin: Cannot apply skin to a Fontsampler that is already initialized.");dom.nodeAddClass(FS.root,"fsjs-skin");var rangeInputs=FS.root.querySelectorAll("input[type=range][data-fsjs-ui='slider']");rangeInputs.length&&rangeSlider.create(rangeInputs,{polyfill:!0,onSlide:updateSlider,onSlideEnd:updateSlider});var selectInputs=FS.root.querySelectorAll("select[data-fsjs-ui='dropdown']"),dropdowns=[];if(selectInputs.length)for(var i=0;i<selectInputs.length;i++){var dropdown=new Dropkick(selectInputs[i],{mobile:!0});dropdowns.push(dropdown),selectInputs[i].dataset.i=i,selectInputs[i].addEventListener("change",function(){dropdowns[this.dataset.i].refresh()})}FS.root.dispatchEvent(new CustomEvent(events.skinInit,{detail:{fontsampler:FS}}))}function updateSlider(position){var key=this.element.dataset.fsjs,opt={};void 0===key?(key=this.element.dataset.axis,opt[key]=position,FS.setValue("variation",opt)):FS.setValue(key,position)}FS.root.addEventListener(events.init,init)}var rangeSlider=_dereq_("../node_modules/rangeslider-pure/dist/range-slider"),Dropkick=_dereq_("../node_modules/dropkickjs/dist/dropkick").default,events=_dereq_("./constants/events"),dom=_dereq_("./helpers/dom");module.exports=Skin},{"../node_modules/dropkickjs/dist/dropkick":1,"../node_modules/rangeslider-pure/dist/range-slider":2,"./constants/events":3,"./helpers/dom":4}]},{},[5])(5)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(_dereq_,module,exports){(function(global){(function(){!function(f){if("object"==typeof exports&&void 0!==module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this,g.Fontsampler=f()}}(function(){return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof _dereq_&&_dereq_;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof _dereq_&&_dereq_,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(_dereq_,module,exports){"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;var key;for(key in obj);return void 0===key||hasOwn.call(obj,key)},setProperty=function(target,options){defineProperty&&"__proto__"===options.name?defineProperty(target,options.name,{enumerable:!0,configurable:!0,value:options.newValue,writable:!0}):target[options.name]=options.newValue},getProperty=function(obj,name){if("__proto__"===name){if(!hasOwn.call(obj,name))return;if(gOPD)return gOPD(obj,name).value}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!=typeof target&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=getProperty(target,name),copy=getProperty(options,name),target!==copy&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},setProperty(target,{name:name,newValue:extend(deep,clone,copy)})):void 0!==copy&&setProperty(target,{name:name,newValue:copy}));return target}},{}],2:[function(_dereq_,module,exports){!function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c),a()}):document.attachEvent("onreadystatechange",function k(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",k),a())})}function t(a){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(a)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function u(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function z(a){var b=a.a.offsetWidth,c=b+100;return a.f.style.width=c+"px",a.c.scrollLeft=c,a.b.scrollLeft=a.b.scrollWidth+100,a.g!==b&&(a.g=b,!0)}function A(a,b){function c(){var a=k;z(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c),l(a.c,c),z(a)}function B(a,b){var c=b||{};this.family=a,this.style=c.style||"normal",this.weight=c.weight||"normal",this.stretch=c.stretch||"normal"}function G(){if(null===D)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!a&&603>parseInt(a[1],10)}else D=!1;return D}function J(){return null===F&&(F=!!document.fonts),F}function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}var C=null,D=null,E=null,F=null;B.prototype.load=function(a,b){var c=this,k=a||"BESbswy",r=0,n=b||3e3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=n?b(Error(n+"ms timeout exceeded")):document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},b)}e()}),N=new Promise(function(a,c){r=setTimeout(function(){c(Error(n+"ms timeout exceeded"))},n)});Promise.race([N,M]).then(function(){clearTimeout(r),a(c)},b)}else m(function(){function v(){var b;(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)&&((b=f!=g&&f!=h&&g!=h)||(null===C&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),C=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=C&&(f==w&&g==w&&h==w||f==x&&g==x&&h==x||f==y&&g==y&&h==y)),b=!b),b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(r),a(c))}function I(){if((new Date).getTime()-H>=n)d.parentNode&&d.parentNode.removeChild(d),b(Error(n+"ms timeout exceeded"));else{var a=document.hidden;!0!==a&&void 0!==a||(f=e.a.offsetWidth,g=p.a.offsetWidth,h=q.a.offsetWidth,v()),r=setTimeout(I,50)}}var e=new t(k),p=new t(k),q=new t(k),f=-1,g=-1,h=-1,w=-1,x=-1,y=-1,d=document.createElement("div");d.dir="ltr",u(e,L(c,"sans-serif")),u(p,L(c,"serif")),u(q,L(c,"monospace")),d.appendChild(e.a),d.appendChild(p.a),d.appendChild(q.a),document.body.appendChild(d),w=e.a.offsetWidth,x=p.a.offsetWidth,y=q.a.offsetWidth,I(),A(e,function(a){f=a,v()}),u(e,L(c,'"'+c.family+'",sans-serif')),A(p,function(a){g=a,v()}),u(p,L(c,'"'+c.family+'",serif')),A(q,function(a){h=a,v()}),u(q,L(c,'"'+c.family+'",monospace'))})})},"object"==typeof module?module.exports=B:(window.FontFaceObserver=B,window.FontFaceObserver.prototype.load=B.prototype.load)}()},{}],3:[function(_dereq_,module,exports){module.exports={initialText:"",multiline:!0,lazyload:!1,generate:!1,timeout:3e3,classes:{rootClass:"fontsamplerjs",initClass:"fsjs-initialized",loadingClass:"fsjs-loading",timeoutClass:"fsjs-timeout",preloadingClass:"fsjs-preloading",wrapperClass:"fsjs-wrapper",blockClass:"fsjs-block",blockClassAxis:"fsjs-block-axis",elementClass:"fsjs-element",labelClass:"fsjs-label",labelTextClass:"fsjs-label-text",labelValueClass:"fsjs-label-value",labelUnitClass:"fsjs-label-unit",buttonClass:"fsjs-button",buttonSelectedClass:"fsjs-button-selected",disabledClass:"fsjs-disabled",focusedClass:"fsjs-focused"},order:["tester"],config:{tester:{editable:!0,label:!1,render:!0},fontfamily:{label:"Font",init:"",render:!0},fontsize:{unit:"px",init:36,min:8,max:96,step:1,label:"Size",render:!0},lineheight:{unit:"%",init:100,min:60,max:120,step:5,label:"Leading",render:!0},letterspacing:{unit:"em",init:0,min:-.1,max:.1,step:.01,label:"Letterspacing",render:!0},alignment:{choices:["left|Left","center|Centered","right|Right"],init:"left",label:"Alignment",render:!0},direction:{choices:["ltr|Left to right","rtl|Right to left"],init:"ltr",label:"Direction",render:!0},language:{choices:["en-GB|English","de-De|Deutsch","nl-NL|Dutch"],init:"en-Gb",label:"Language",render:!0},opentype:{choices:["liga|Ligatures","frac|Fractions"],init:["liga"],label:"Opentype features",render:!0}}}},{}],4:[function(_dereq_,module,exports){module.exports={noFonts:"Fontsampler: No fonts were passed in.",initFontFormatting:"Fontsampler: Passed in fonts are not in expected format. Expected [ { name: 'Font Name', files: [ 'fontfile.woff', 'fontfile.woff2' ] },  ]",fileNotfound:"Fontsampler: The passed in file could not be loaded.",missingRoot:"Fontsampler: Passed in root element invalid: ",missingFonts:"Fontsampler: No fonts passed in",tooManyFiles:"Fontsampler: Supplied more than one woff or woff2 for a font: ",invalidUIItem:"Fontsampler: The supplied UI item is not supported: ",invalidEvent:"Fontsampler: Invalid event type. You can only register Fontsampler events on the Fontsampler instance.",newInit:"Fontsampler: Instantiated Fontsampler without 'new' keyword. Create Fontsamplers using new Fontsampler()",dataFontsJsonInvalid:"Fontsampler: The data-fonts JSON failed to parse.",invalidDOMOptions:"Fontsampler: Could not parse data-options on Fontsampler root node. Make sure it is valid JSON and follows the default options structure.",invalidVariation:"Fontsampler: Invalid variation instance values"}},{}],5:[function(_dereq_,module,exports){module.exports={init:"fontsampler.events.init",skinInit:"fontsampler.events.skininit",languageChanged:"fontsampler.events.languagechanged",fontChanged:"fontsampler.events.fontchanged",fontLoaded:"fontsampler.events.fontloaded",fontRendered:"fontsampler.events.fontrendered",fontsPreloaded:"fontsampler.events.fontspreloaded",valueChanged:"fontsampler.events.valuechanged",opentypeChanged:"fontsampler.events.opentypechanged",focused:"fontsampler.events.focused",blurred:"fontsampler.events.blurred"}},{}],6:[function(_dereq_,module,exports){function GlobalLoader(){function onFontDone(family,file,success,error,timeout){family in done==!0?!0===done[family].isLoaded?success(done[family]):error(done[family]):-1!==queue.indexOf(family)?(callbacks[family].success.push(success),callbacks[family].error.push(error)):(queue.push(family),callbacks[family]={success:[success],error:[error]},load(family,file,timeout))}function onSuccess(fontface){if(queue.splice(queue.indexOf(fontface.family),1),fontface.isLoaded=!0,done[fontface.family]=fontface,fontface.family in callbacks&&"success"in callbacks[fontface.family]){for(var i=0;i<callbacks[fontface.family].success.length;i++)callbacks[fontface.family].success[i](fontface);callbacks[fontface.family]={}}}function onError(family,file,e){"function"==typeof error&&error(e)}function load(family,file,timeout){if(void 0===timeout&&(timeout=3e3),"FontFace"in window){var ff=new FontFace(family,"url("+file+")",{});ff.load().then(function(){document.fonts.add(ff),onSuccess(ff)},function(e){onError(family,file,e)})}else{new FontFaceObserver(family).load(null,timeout).then(function(ff){onSuccess(ff)},function(e){onError(family,file,e)});var newStyle=document.createElement("style");newStyle.appendChild(document.createTextNode("@font-face { font-family: '"+family+"'; src: url('"+file+"'); }")),document.head.appendChild(newStyle)}}var queue=[],done={},callbacks={};return{onFontDone:onFontDone}}function loadFont(file,callback,error,timeout){if(!file)return!1;var family=file.substring(file.lastIndexOf("/")+1);family=family.substring(0,family.lastIndexOf(".")),family=family.replace(/\W/gm,""),"FontsamplerFontloader"in window==!1&&(window.FontsamplerFontloader=GlobalLoader()),window.FontsamplerFontloader.onFontDone(family,file,callback,error,timeout)}function fromFiles(files,callback,error,timeout){font=helpers.bestWoff(files),loadFont(font,callback,error,timeout)}var FontFaceObserver=_dereq_("../node_modules/fontfaceobserver/fontfaceobserver.standalone"),helpers=(_dereq_("./constants/errors"),_dereq_("./helpers/supports"),_dereq_("./helpers/helpers"));module.exports={loadFont:loadFont,fromFiles:fromFiles}},{"../node_modules/fontfaceobserver/fontfaceobserver.standalone":2,"./constants/errors":4,"./helpers/helpers":9,"./helpers/supports":11}],7:[function(_dereq_,module,exports){function Fontsampler(_root,_fonts,_options){function parseFonts(fonts){for(var i=0;i<fonts.length;i++){var font=fonts[i];"instance"in Object.keys(font)?(font.instance=helpers.parseVariation(font.instance),font.axes=Object.keys(font.instance)):font.axes=[]}return fonts}function parseOptions(opt){var extractedOptions=!1,nodesInDom=this.root.querySelectorAll("[data-fsjs]"),blocksInDom=[],blocksInOrder=[],blocksInUI=[],blocks=[];if("options"in this.root.dataset)try{extractedOptions=JSON.parse(this.root.dataset.options)}catch(e){}if("object"==typeof opt&&"object"==typeof extractedOptions?passedInOptions=extend(!0,opt,extractedOptions):"object"==typeof opt?passedInOptions=opt:"object"==typeof extractedOptions&&(passedInOptions=extractedOptions),options="object"==typeof passedInOptions?extend(!0,defaults,passedInOptions):defaults,nodesInDom.length>0)for(var b=0;b<nodesInDom.length;b++)blocksInDom[b]=nodesInDom[b].dataset.fsjs;blocksInOrder="object"==typeof opt&&"order"in opt?utils.flattenDeep(opt.order):[],blocksInUI="object"==typeof opt&&"ui"in opt?Object.keys(opt.ui):[],blocks=blocksInDom.concat(blocksInOrder,blocksInUI),blocks=utils.arrayUnique(blocks),-1===blocks.indexOf("tester")&&blocks.push("tester"),"object"==typeof opt&&"order"in opt&&Array.isArray(opt.order)&&opt.order.length?options.order=opt.order:"object"==typeof extractedOptions&&"order"in extractedOptions&&Array.isArray(extractedOptions.order)&&extractedOptions.order.length&&(options.order=extractedOptions.order);for(var blocksInOrderNow=utils.flattenDeep(options.order),i=0;i<blocks.length;i++)-1===blocksInOrderNow.indexOf(blocks[i])&&options.order.push(blocks[i]);return options}function setupUIEvents(){this.root.addEventListener(events.opentypeChanged,function(){var val=ui.getOpentype();ui.setInputOpentype(val)});var that=this;this.root.addEventListener(events.fontChanged,function(e){e.detail.font&&void 0===this.currentFont&&that.showFont(e.detail.font)})}function initFont(fontface){that.currentFont.fontface=fontface,ui.setStatusClass(options.classes.loadingClass,!1);var family=fontface.family;if("fallback"in that.currentFont&&(family+=","+that.currentFont.fallback),ui.setInputCss("fontFamily",family),ui.setActiveAxes(that.currentFont.axes),"instance"in that.currentFont==!0)for(var tag in that.currentFont.instance)ui.setValue(tag,that.currentFont.instance[tag]);ui.setActiveOpentype(that.currentFont.features),"string"==typeof that.currentFont.language&&ui.setActiveLanguage(that.currentFont.language),ui.setActiveFont(that.currentFont.name),preloader.resume(),dom.nodeRemoveClass(that.root,"is-instance"),dom.nodeRemoveClass(that.root,"is-static"),dom.nodeAddClass(that.root,that.currentFont.instance?"is-instance":"is-static"),_root.dispatchEvent(new CustomEvent(events.fontRendered,{detail:{fontsampler:that}}))}var ui,options,fonts,preloader=new Preloader,passedInOptions=!1,defaults=JSON.parse(JSON.stringify(_defaults)),that=this;if(this===window)throw new Error(errors.newInit);if(!_root)throw new Error(errors.missingRoot+_root);if(!Array.isArray(_fonts)||_fonts.length<1)throw new Error(errors.missingFonts);return this.root=_root,this.initialized=!1,this.currentFont=!1,this.loadedFonts=[],options=parseOptions.call(this,_options),fonts=parseFonts.call(this,_fonts),ui=Interface(this,fonts,options),this.init=function(){function setAxesInits(){for(var axis in axesInits)ui.setValue(axis,axesInits[axis]);that.root.removeEventListener(events.fontRendered,setAxesInits)}var that=this,initialFont=0;if("fontfamily"in options.config&&"init"in options.config.fontfamily==!0&&"string"==typeof options.config.fontfamily.init&&""!==options.config.fontfamily.init)initialFont=options.config.fontfamily.init;else{var axesInits={};for(var key in options.config)ui.isAxisKey(key)&&"init"in options.config[key]&&(axesInits[key]=options.config[key].init);axesInits!=={}&&that.root.addEventListener(events.fontRendered,setAxesInits)}return ui.init(),setupUIEvents.call(this),this.showFont.call(this,initialFont),options.lazyload&&(ui.setStatusClass(options.classes.preloadingClass,!0),preloader.load(fonts,function(){ui.setStatusClass(options.classes.preloadingClass,!1),_root.dispatchEvent(new CustomEvent(events.fontsPreloaded))})),dom.nodeAddClass(this.root,options.classes.initClass),dom.nodeAddClass(this.root,supports.woff2?"fsjs-woff2":"fsjs-woff"),dom.nodeAddClass(this.root,supports.variableFonts?"fsjs-variable-fonts":"fsjs-no-variable-fonts"),this.root.dispatchEvent(new CustomEvent(events.init)),this.initialized=!0,this},this.showFont=function(indexOrKey){var font;preloader.pause(),ui.setStatusClass(options.classes.loadingClass,!0),ui.setStatusClass(options.classes.timeoutClass,!1),"string"==typeof indexOrKey?(font=fonts.filter(function(value,index){return fonts[index].name===indexOrKey}).pop())||(font=fonts[0]):"number"==typeof indexOrKey&&indexOrKey>=0&&indexOrKey<=fonts.length&&(font=fonts[indexOrKey]),this.currentFont&&this.currentFont.files&&JSON.stringify(this.currentFont.files)===JSON.stringify(font.files)?(font.fontface=this.currentFont.fontface,this.currentFont=font,initFont(this.currentFont.fontface)):(this.currentFont=font,Fontloader.fromFiles(font.files,function(fontface){var fjson=JSON.stringify(fontface);-1===that.loadedFonts.indexOf(fjson)&&(that.loadedFonts.push(fjson),_root.dispatchEvent(new CustomEvent(events.fontLoaded,{detail:fontface}))),initFont(fontface)},function(){ui.setStatusClass(options.classes.loadingClass,!1),ui.setStatusClass(options.classes.timeoutClass,!0),that.currentFont=!1},options.timeout))},this.setText=function(text){ui.setInputText(text)},this.getValue=function(key){return ui.getValue(key)},this.setValue=function(key,value){return ui.setValue(key,value)},this.setLabel=function(key,value){return ui.setLabelValue(key,value)},this.addEventListener=function(event,listener){this.root.addEventListener(event,listener)},this}var extend=_dereq_("../node_modules/extend"),Fontloader=_dereq_("./fontloader"),Interface=_dereq_("./ui"),Preloader=_dereq_("./preloader"),errors=_dereq_("./constants/errors"),events=_dereq_("./constants/events"),_defaults=_dereq_("./constants/defaults"),helpers=_dereq_("./helpers/helpers"),utils=_dereq_("./helpers/utils"),dom=_dereq_("./helpers/dom"),supports=_dereq_("./helpers/supports");module.exports=Fontsampler},{"../node_modules/extend":1,"./constants/defaults":3,"./constants/errors":4,"./constants/events":5,"./fontloader":6,"./helpers/dom":8,"./helpers/helpers":9,"./helpers/supports":11,"./helpers/utils":12,"./preloader":13,"./ui":14}],8:[function(_dereq_,module,exports){function pruneClass(className,classNames){if(!classNames)return"";if(classNames=classNames.trim(),
!className)return classNames;className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);return-1!==classIndex&&classes.splice(classIndex,1),classes.length>0?classes.join(" "):""}function addClass(className,classNames){return classNames||(classNames=""),className===classNames?classNames:(classNames=classNames.trim(),className?(className=className.trim(),-1===classNames.split(" ").indexOf(className)?classNames?classNames+" "+className:className:classNames):classNames)}function nodeAddClass(node,className){return!(!isNode(node)||"string"!=typeof className)&&(node.className=addClass(className,node.className),!0)}function nodeAddClasses(node,classes){if(!isNode(node)||!Array.isArray(classes)||classes.length<1)return!1;for(var c=0;c<classes.length;c++)node.className=addClass(classes[c],node.className);return!0}function nodeRemoveClass(node,className){return!(!isNode(node)||"string"!=typeof className)&&(node.className=pruneClass(className,node.className),!0)}function isNode(node){return"object"==typeof node&&null!==node&&"nodeType"in node}module.exports={nodeAddClass:nodeAddClass,nodeAddClasses:nodeAddClasses,nodeRemoveClass:nodeRemoveClass,isNode:isNode}},{}],9:[function(_dereq_,module,exports){function validateFontsFormatting(fonts){if("object"!=typeof fonts||!Array.isArray(fonts))return!1;for(var i=0;i<fonts.length;i++){var font=fonts[i];if("object"!=typeof font)return!1;if(!font.name||!font.files||!Array.isArray(font.files)||font.files.length<=0)return!1}return!0}function extractFontsFromDOM(root){var select=root.querySelector("[data-fsjs='fontfamily']"),options=[],fonts=[],rootFonts=extractFontsFromNode(root,!0);if(rootFonts)return rootFonts;if(!select)return!1;for(options=select.querySelectorAll("option"),i=0;i<options.length;i++){var opt=options[i],extractedFonts=extractFontsFromNode(opt,!1);fonts&&(fonts=fonts.concat(extractedFonts))}return fonts||!1}function extractFontsFromNode(node,ignoreName){var singleFont={name:"Default",files:[]};if(node.dataset.fonts)try{return JSON.parse(node.dataset.fonts)}catch(error){throw new Error(errors.dataFontsJsonInvalid)}return node.dataset.name&&(singleFont.name=node.dataset.name),node.dataset.woff&&singleFont.files.push(node.dataset.woff),node.dataset.woff2&&singleFont.files.push(node.dataset.woff2),!!((singleFont.name||!singleFont.name&&ignoreName)&&singleFont.files.length>0)&&[singleFont]}function parseParts(choice){var parts,val,text;return-1!==choice.indexOf("|")?(parts=choice.split("|"),val=parts[0],text=parts[1]):(val=choice,text=choice),{val:val,text:text}}function getExtension(path){return path.substring(path.lastIndexOf(".")+1)}function bestWoff(files){if("object"!=typeof files||!Array.isArray(files))return!1;var woffs=files.filter(function(value){return"woff"===getExtension(value)}),woff2s=files.filter(function(value){return"woff2"===getExtension(value)});if(woffs.length>1||woff2s.length>1)throw new Error(errors.tooManyFiles+files);return woff2s.length>0&&supports.woff2?woff2s.shift():woffs.length>0&&woffs.shift()}function parseVariation(stringOrObj){var parts,variations={};if("string"==typeof stringOrObj&&""!==stringOrObj.trim()){stringOrObj=stringOrObj.replace(/'|"/gm,""),parts=stringOrObj.split(",");for(var i=0;i<parts.length;i++)try{var part=parts[i],axis=part.match(/^\s?[A-z]{4}\s?/gm),val=part.match(/\s?[0-9\.]+\s?/gm);axis.length>0&&val.length>0&&(variations[axis[0].trim()]=val[0].trim())}catch(e){error.log(e)}}else variations=stringOrObj;return variations}var supports=_dereq_("./supports"),errors=_dereq_("../constants/errors");module.exports={getExtension:getExtension,parseParts:parseParts,validateFontsFormatting:validateFontsFormatting,extractFontsFromDOM:extractFontsFromDOM,bestWoff:bestWoff,parseVariation:parseVariation}},{"../constants/errors":4,"./supports":11}],10:[function(_dereq_,module,exports){function Selection(){function getCaretCharacterOffsetWithin(element){var sel,caretOffset=0,doc=element.ownerDocument||element.document,win=doc.defaultView||doc.parentWindow;if(void 0!==win.getSelection){if(sel=win.getSelection(),sel.rangeCount>0){var range=win.getSelection().getRangeAt(0),preCaretRange=range.cloneRange();preCaretRange.selectNodeContents(element),preCaretRange.setEnd(range.endContainer,range.endOffset),caretOffset=preCaretRange.toString().length}}else if((sel=doc.selection)&&"Control"!=sel.type){var textRange=sel.createRange(),preCaretTextRange=doc.body.createTextRange();preCaretTextRange.moveToElementText(element),preCaretTextRange.setEndPoint("EndToEnd",textRange),caretOffset=preCaretTextRange.text.length}return caretOffset}var setSelectionByCharacterOffsets=null;return window.getSelection&&document.createRange?setSelectionByCharacterOffsets=function(containerEl,start,end){var charIndex=0,range=document.createRange();range.setStart(containerEl,0),range.collapse(!0);for(var node,nodeStack=[containerEl],foundStart=!1,stop=!1;!stop&&(node=nodeStack.pop());)if(3==node.nodeType){var nextCharIndex=charIndex+node.length;!foundStart&&start>=charIndex&&start<=nextCharIndex&&(range.setStart(node,start-charIndex),foundStart=!0),foundStart&&end>=charIndex&&end<=nextCharIndex&&(range.setEnd(node,end-charIndex),stop=!0),charIndex=nextCharIndex}else for(var i=node.childNodes.length;i--;)nodeStack.push(node.childNodes[i]);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}:document.selection&&(setSelectionByCharacterOffsets=function(containerEl,start,end){var textRange=document.body.createTextRange();textRange.moveToElementText(containerEl),textRange.collapse(!0),textRange.moveEnd("character",end),textRange.moveStart("character",start),textRange.select()}),{setCaret:setSelectionByCharacterOffsets,getCaret:getCaretCharacterOffsetWithin}}module.exports=Selection},{}],11:[function(_dereq_,module,exports){module.exports={variableFonts:function(){return"CSS"in window!=!1&&"supports"in CSS!=!1&&CSS.supports("(font-variation-settings: normal)")}(),woff2:function(){if("FontFace"in window==!1)return!1;var f=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADwAAoAAAAAAiQAAACoAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAALAogOAE2AiQDBgsGAAQgBSAHIBuDAciO1EZ3I/mL5/+5/rfPnTt9/9Qa8H4cUUZxaRbh36LiKJoVh61XGzw6ufkpoeZBW4KphwFYIJGHB4LAY4hby++gW+6N1EN94I49v86yCpUdYgqeZrOWN34CMQg2tAmthdli0eePIwAKNIIRS4AGZFzdX9lbBUAQlm//f262/61o8PlYO/D1/X4FrWFFgdCQD9DpGJSxmFyjOAGUU4P0qigcNb82GAAA" ) format( "woff2" )',{});return f.load().catch(function(){}),"loading"===f.status||"loaded"===f.status}()}},{}],12:[function(_dereq_,module,exports){function clamp(value,min,max,fallback){if(value=parseFloat(value),min=parseFloat(min),max=parseFloat(max),isNaN(value)||isNaN(min)||isNaN(max)){if(void 0===fallback)return value;value=fallback}return Math.min(max,Math.max(value,min))}function flattenDeep(array){try{return array.reduce(function(acc,current){return Array.isArray(current)?acc.concat(flattenDeep(current)):acc.concat([current])},[])}catch(e){return[]}}function arrayUnique(a){return!!Array.isArray(a)&&a.filter(function(value,index,self){return self.indexOf(value)===index},a)}module.exports={flattenDeep:flattenDeep,arrayUnique:arrayUnique,clamp:clamp}},{}],13:[function(_dereq_,module,exports){function Preloader(){function load(fonts,callback){queue=fonts.slice(0),autoload=!0,"function"==typeof callback&&(finishedCallback=callback),loadNext()}function pause(){autoload=!1}function resume(){autoload=!0,queue.length>0?loadNext():finishedCallback&&finishedCallback()}function loadNext(){queue.length>0&&autoload&&Fontloader.fromFiles(queue[0].files,function(){queue.shift(),0===queue.length&&finishedCallback&&finishedCallback(),queue.length>0&&autoload&&loadNext()},function(){},5e3)}var queue=[],autoload=!0,finishedCallback=null;return{load:load,pause:pause,resume:resume}}var Fontloader=_dereq_("./fontloader");module.exports=Preloader},{"./fontloader":6}],14:[function(_dereq_,module,exports){function UI(fs,fonts,options){function init(){for(dom.nodeAddClass(root,options.classes.rootClass),uifactory=UIElements(root,options),options.config.fontfamily&&"boolean"==typeof options.config.fontfamily&&(options.config.fontfamily={}),options.config.fontfamily.choices=fonts.map(function(value){return value.name}),1===root.childNodes.length&&root.childNodes[0].nodeType===Node.TEXT_NODE&&(originalText=root.childNodes[0].textContent,root.removeChild(root.childNodes[0])),options.originalText=originalText;root.childNodes.length;)root.removeChild(root.childNodes[0]);for(var i=0;i<options.order.length;i++){var elementA=parseOrder(options.order[i]);dom.isNode(elementA)&&elementA.childNodes.length>0&&!elementA.isConnected&&root.appendChild(elementA)}input=getElement("tester",blocks.tester),options.originalText&&this.setInputText(options.originalText.trim()),"initialText"in options&&""!==options.initialText&&this.setInputText(options.initialText.trim());for(var keyC in blocks)blocks.hasOwnProperty(keyC)&&initBlock(keyC);if(!options.multiline){var typeEvents=["keypress","keyup","change","paste"];for(var e in typeEvents)typeEvents.hasOwnProperty(e)&&blocks.tester.addEventListener(typeEvents[e],onKey)}blocks.tester.addEventListener("paste",function(e){e.preventDefault();var text="";e.clipboardData||e.originalEvent.clipboardData?text=(e.originalEvent||e).clipboardData.getData("text/plain"):window.clipboardData&&(text=window.clipboardData.getData("Text")),options.multiline||(text=text.replace(/(?:\r\n|\r|\n|<br>)/g," ")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,text):document.execCommand("paste",!1,text)}),blocks.tester.addEventListener("focusin",function(e){sendEvent(events.focused),dom.nodeAddClass(root,options.classes.focusedClass)}),blocks.tester.addEventListener("focusout",function(e){sendEvent(events.blurred),dom.nodeRemoveClass(root,options.classes.focusedClass)})}function parseOrder(key){var child,wrapper;if("string"==typeof key){var block=createBlock(key);return blocks[key]=block,block}if(Array.isArray(key)){wrapper=document.createElement("div"),wrapper.className=options.classes.wrapperClass;for(var i=0;i<key.length;i++)(child=parseOrder(key[i]))&&wrapper.appendChild(child);return!(wrapper.children.length<1)&&wrapper}return key instanceof HTMLElement&&(wrapper=document.createElement("div"),key.classList&&(wrapper.classList=key.classList,key.className=""),wrapper.className+=" "+options.classes.blockClass,key.hasAttribute("id")&&(wrapper.setAttribute("id",key.getAttribute("id")),key.removeAttribute("id")),wrapper.appendChild(key),wrapper)}function createBlock(key){var block=document.createElement("div"),element=!1,label=!1,opt=null;return key in options.config!=!1&&(opt=options.config[key],opt.label&&(label=uifactory.label(opt.label,opt.unit,opt.init,key),block.appendChild(label),addLabelClasses(label,key)),element=createElement(key),addElementClasses(element,key),addBlockClasses(block,key),block.appendChild(element),block)}function createElement(key){var element;return element=isAxisKey(key)?uifactory.slider(key,options.config[key]):uifactory[ui[key]](key,options.config[key]),addElementClasses(element,key),element}function addBlockClasses(block,key){var type=ui[key];isAxisKey(key)&&(type="slider");var classes=[options.classes.blockClass,options.classes.blockClass+"-"+key,options.classes.blockClass+"-type-"+type];isAxisKey(key)&&classes.push(options.classes.blockClassAxis),key in options.config&&"classes"in options.config[key]&&classes.push(options.config[key].classes),dom.nodeAddClasses(block,classes),block.dataset.fsjsBlock=key}function addElementClasses(element,key){try{var type="";type=isAxisKey(key)?"slider":ui[key],element=uifactory[type](key,options.config[key],element),dom.nodeAddClass(element,options.classes.elementClass),element.dataset.fsjs=key,element.dataset.fsjsUi=type}catch(e){}}function addLabelClasses(label,key){var text=label.querySelector("."+options.classes.labelTextClass),value=label.querySelector("."+options.classes.labelValueClass),unit=label.querySelector("."+options.classes.labelUnitClass),element=getElement(key);dom.isNode(text)&&""===text.textContent&&(text.textContent=options.config[key].label),dom.isNode(value)&&-1===["slider"].indexOf(ui[key])&&(value.textContent=""),dom.isNode(value)&&value&&""===value.textContent&&(value.textContent=element.value),dom.isNode(unit)&&unit&&""===unit.textContent&&(unit.textContent=element.dataset.unit),dom.nodeAddClass(label,options.classes.labelClass),label.dataset.fsjsFor=key}function initBlock(key){var block=getBlock(key),element=getElement(key,block),type=ui[key],opt=options.config[key];if(block){if("slider"===type||isAxisKey(key))setValue(key,opt.init),element.addEventListener("change",onSlide);else if("dropdown"===type)element.addEventListener("change",onChange),setValue(key,opt.init);else if("buttongroup"===type){var buttons=element.querySelectorAll("[data-choice]");if(buttons.length>0)for(var b=0;b<buttons.length;b++)buttons[b].addEventListener("click",onClick),buttons[b].dataset.choice===options.config[key].init?dom.nodeAddClass(buttons[b],options.classes.buttonSelectedClass):dom.nodeRemoveClass(buttons[b],options.classes.buttonSelectedClass);setValue(key,options.config[key].init)}else if("checkboxes"===type){var checkboxes=element.querySelectorAll("[data-feature]");if(checkboxes.length>0){for(var features={},c=0;c<checkboxes.length;c++){var checkbox=checkboxes[c];checkbox.addEventListener("change",onCheck),"features"in checkbox.dataset&&(features[checkbox.dataset.features]=checkbox.checked?"1":"0")}setInputOpentype(features)}}return!0}}function isAxisKey(key){return-1!==Object.keys(options.config).indexOf(key)&&4===String(key).length}function getAxisKeys(){for(var defaultKeys=Object.keys(defaults.config),allKeys=Object.keys(options.config),axisKeys=[],i=0;i<allKeys.length;i++){var key=allKeys[i];-1===defaultKeys.indexOf(key)&&isAxisKey(key)&&axisKeys.push(key)}return axisKeys}function getElement(key,node){void 0!==node&&key in ui!=!1||(node=root);var element=root.querySelector("[data-fsjs='"+key+"']");return!!dom.isNode(element)&&element}function getBlock(key,node){void 0!==node&&key in ui!=!1||(node=root);var block=root.querySelector("[data-fsjs-block='"+key+"']");return!!dom.isNode(block)&&block}function onChange(e){setValue(e.target.dataset.fsjs,e.target.value)}function onSlide(e){try{setValue(e.target.dataset.fsjs)}catch(e){}}function onCheck(){sendEvent(events.opentypeChanged)}function onClick(e){var parent=e.currentTarget.parentNode,property=parent.dataset.fsjs,buttons=parent.querySelectorAll("[data-choice]");if(property in ui&&"buttongroup"===ui[property]){for(var b=0;b<buttons.length;b++)dom.nodeRemoveClass(buttons[b],options.classes.buttonSelectedClass);dom.nodeAddClass(e.currentTarget,options.classes.buttonSelectedClass),setValue(property,e.currentTarget.dataset.choice)}}function sendEvent(type,opt){if(void 0===opt)var opt={};opt.fontsampler=fs,root.dispatchEvent(new CustomEvent(type,{detail:opt}))}function sendNativeEvent(type,node){type&&node&&node.dispatchEvent(new Event(type))}function onKey(event){if("keypress"===event.type){if(13===event.keyCode)return event.preventDefault(),!1}else{var text=blocks.tester.textContent;-1!==text.indexOf("\n")&&(blocks.tester.innerHTML(text.replace("/\n/gi","")),selection.setCaret(blocks.tester,blocks.tester.textContent.length,0))}}function getValue(key){var element=getElement(key);return!!element&&element.value}function getCssValue(key){var element=getElement(key);return element?element.value+element.dataset.unit:""}function getOpentype(){if(!blocks.opentype)return!1;var features=blocks.opentype.querySelectorAll("[data-feature]");if(features){for(var re={},f=0;f<features.length;f++){var input=features[f];re[input.dataset.feature]=input.checked}return re}}function getVariation(axis){var input,axes=getAxisKeys(),va={};if(axes)for(var v=0;v<axes.length;v++)(input=getElement(axes[v]))&&(va[input.dataset.fsjs]=input.value);return"string"==typeof axis&&axis in va?va[axis]:va}function getButtongroupValue(key){var selected,element=getElement(key);return element&&(selected=element.querySelector("."+options.classes.buttonSelectedClass)),selected?selected.dataset.choice:""}function getCssAttrForKey(key){return key in keyToCss&&keyToCss[key]}function getKeyForCssAttr(attr){for(var key in keyToCss)if(keyToCss.hasOwnProperty(key)&&keyToCss[key]===attr)return key;return!1}function _updateSlider(key,value){var element=getElement(key);parseFloat(element.value)!==parseFloat(value)&&(element.value=value,sendNativeEvent("change",element))}function setValue(key,value){var element=getElement(key);switch(key){case"fontsize":case"lineheight":case"letterspacing":value=void 0===value?getValue(key):utils.clamp(value,options.config[key].min,options.config[key].max,options.config[key].init),parseFloat(element.value)!==parseFloat(value)&&sendNativeEvent("change",element),_updateSlider(key,value),setLabelValue(key,value),setInputCss(keyToCss[key],value+options.config[key].unit);break;case"opentype":setInputOpentype(value);break;case"language":setInputAttr("lang",value);break;case"fontfamily":sendEvent(events.fontChanged,{font:value});break;case"alignment":setInputCss(keyToCss[key],value);break;case"direction":setInputAttr("dir",value);break;case"tester":break;default:if(isAxisKey(key)){var updateVariation={};void 0===value&&(value=element.value),"object"!=typeof value&&(updateVariation[key]=value);for(var axis in updateVariation)updateVariation.hasOwnProperty(axis)&&(val=setVariation(key,updateVariation[axis]))}}var obj={};obj[key]=value,sendEvent(events.valueChanged,obj)}function setVariation(axis,val){var v=getVariation(),opt=null;if(isAxisKey(axis))return opt=getAxisOptions(axis),v[axis]=utils.clamp(val,opt.min,opt.max),setLabelValue(axis,v[axis]),setInputVariation(v),_updateSlider(axis,v[axis]),v[axis]}function getAxisOptions(axis){return opt=options.config[axis],opt&&"undefined"!=typeof opt||(opt={min:100,max:900}),void 0===opt.min&&(opt.min=100),void 0===opt.max&&(opt.max=900),opt}function fontIsInstance(variation,fontname){if("object"!=typeof variation)return!1;for(var v in variation)isNaN(parseInt(variation[v]))||(variation[v]=variation[v].toString());for(var i=0;i<fonts.length;i++){var f=fonts[i];if("instance"in f!=!1)try{for(var parts=f.instance.split(","),vars={},k=0;k<parts.length;k++){var p=parts[k].trim().split(" ");vars[p[0]]=p[1].toString()}if(Object.keys(variation).length!==Object.keys(vars).length)continue;if(JSON.stringify(vars)===JSON.stringify(variation)&&fontname===f.name)return f}catch(e){continue}}return!1}function setInputCss(attr,val){input.style[attr]=val}function setInputAttr(attr,val){input.setAttribute(attr,val)}function setInputOpentype(features){var val,parsed=[];for(var key in features)features.hasOwnProperty(key)&&key&&void 0!==key&&parsed.push('"'+key+'" '+(features[key]?"1":"0"));val=parsed.join(","),input.style["font-feature-settings"]=val}function setInputVariation(variations){var parsed=[];for(var key in variations)variations.hasOwnProperty(key)&&key&&void 0!==key&&parsed.push('"'+key+'" '+variations[key]);if(val=parsed.join(","),input.style["font-variation-settings"]=val,dom.isNode(blocks.fontfamily)){var fontname=getElement("fontfamily",blocks.fontfamily).value,instanceFont=fontIsInstance(variations,fontname);if(!1===instanceFont)dom.nodeAddClass(blocks.fontfamily,options.classes.disabledClass);else{dom.nodeRemoveClass(blocks.fontfamily,options.classes.disabledClass);var option,element=getElement("fontfamily");element.value!==instanceFont.name&&(option=element.querySelector("option[value='"+instanceFont.name+"']"),dom.isNode(option)&&(option.selected=!0),element.value=instanceFont.name)}}}function setActiveFont(name){if(dom.isNode(blocks.fontfamily)){var option,element=getElement("fontfamily",blocks.fontfamily);dom.nodeRemoveClass(blocks.fontfamily,options.classes.disabledClass),dom.isNode(element)&&element.value!==name&&(option=element.querySelectorAll("option[value='"+name+"']"),dom.isNode(option)&&(option.selected=!0),element.value=name,sendNativeEvent("change",element))}}function setActiveAxes(axes){if(dom.isNode(blocks.variation)){var sliders=blocks.variation.querySelectorAll("[data-axis]");if(sliders)for(var s=0;s<sliders.length;s++)!Array.isArray(axes)||axes.length<1||-1===axes.indexOf(sliders[s].dataset.axis)||!1===supports.woff2||!1===supports.variableFonts?dom.nodeAddClass(sliders[s].parentNode,options.classes.disabledClass):dom.nodeRemoveClass(sliders[s].parentNode,options.classes.disabledClass)}}function setActiveLanguage(lang){if(dom.isNode(blocks.language)&&"string"==typeof lang){if(-1!==options.config.language.choices.map(function(value){return value.split("|")[0]}).length){var option=blocks.language.querySelector("option[value='"+lang+"']");dom.isNode(option)&&(blocks.language.value=lang,option.selected=!0,sendNativeEvent("change",blocks.language),sendEvent(events.languageChanged))}}}function setActiveOpentype(features){var checkboxes=!1;if(dom.isNode(blocks.opentype)&&(checkboxes=blocks.opentype.querySelectorAll("[data-feature]")),checkboxes)for(var c=0;c<checkboxes.length;c++)Array.isArray(features)&&-1===features.indexOf(checkboxes[c].dataset.feature)?dom.nodeAddClass(checkboxes[c].parentNode,"fsjs-checkbox-inactive"):dom.nodeRemoveClass(checkboxes[c].parentNode,"fsjs-checkbox-inactive")}function setInputText(text){text&&input&&(input.innerHTML=text)}function setLabelValue(key,value){var labelValue=root.querySelector("[data-fsjs-for='"+key+"'] ."+options.classes.labelValueClass);labelValue&&(labelValue.textContent=value)}function setStatusClass(classString,status){!0===status?dom.nodeAddClass(root,classString):!1===status&&dom.nodeRemoveClass(root,classString)}var ui={tester:"textfield",fontsize:"slider",lineheight:"slider",letterspacing:"slider",fontfamily:"dropdown",alignment:"buttongroup",direction:"buttongroup",language:"dropdown",opentype:"checkboxes"},keyToCss={fontsize:"fontSize",lineheight:"lineHeight",letterspacing:"letterSpacing",alignment:"text-align"},blocks={},uifactory=null,input=null,originalText="",root=fs.root;return{init:init,getValue:getValue,setValue:setValue,getCssValue:getCssValue,getButtongroupValue:getButtongroupValue,getOpentype:getOpentype,getVariation:getVariation,getCssAttrForKey:getCssAttrForKey,getKeyForCssAttr:getKeyForCssAttr,setInputCss:setInputCss,setInputOpentype:setInputOpentype,setInputText:setInputText,setStatusClass:setStatusClass,setActiveFont:setActiveFont,setActiveAxes:setActiveAxes,setActiveLanguage:setActiveLanguage,setActiveOpentype:setActiveOpentype,setLabelValue:setLabelValue,isAxisKey:isAxisKey,sendEvent:sendEvent,sendNativeEvent:sendNativeEvent}}var selection=_dereq_("./helpers/selection"),UIElements=_dereq_("./uielements"),events=_dereq_("./constants/events"),defaults=_dereq_("./constants/defaults"),dom=_dereq_("./helpers/dom"),utils=_dereq_("./helpers/utils"),supports=_dereq_("./helpers/supports");module.exports=UI},{"./constants/defaults":3,"./constants/events":5,"./helpers/dom":8,"./helpers/selection":10,"./helpers/supports":11,"./helpers/utils":12,"./uielements":15}],15:[function(_dereq_,module,exports){function UIElements(root,options){function label(labelText,labelUnit,labelValue,relatedInput){var val,unit,label=document.createElement("label"),text=document.createElement("span");return!1!==labelText&&(label.dataset.fsjsFor=relatedInput,dom.nodeAddClass(label,options.classes.labelClass),text.className=options.classes.labelTextClass,text.appendChild(document.createTextNode(labelText)),label.appendChild(text),""!==labelValue&&(val=document.createElement("span"),val.className=options.classes.labelValueClass,val.appendChild(document.createTextNode(labelValue)),label.appendChild(val)),"string"==typeof labelUnit&&(unit=document.createElement("span"),unit.className=options.classes.labelUnitClass,unit.appendChild(document.createTextNode(labelUnit)),label.appendChild(unit)),label)}function slider(key,opt,node){var input=dom.isNode(node)?node:document.createElement("input"),attributes={type:"range",min:opt.min,max:opt.max,value:opt.init,step:opt.step};return input.setAttribute("autocomplete","off"),setMissingAttributes(input,attributes),void 0===input.value&&(input.value=opt.init,input.setAttribute("value",opt.init)),"unit"in input.dataset==!1&&(input.dataset.unit=opt.unit),"init"in input.dataset==!1&&(input.dataset.init=opt.init),key&&(input.dataset.fsjs=key),input}function dropdown(key,opt,node){var dropdown=dom.isNode(node)?node:document.createElement("select");if("choices"in opt==!1||opt.choices.length<1)return!1;for(var c=0;c<opt.choices.length;c++){var choice=helpers.parseParts(opt.choices[c]),option=dropdown.querySelector("option[value='"+choice.val+"']");dom.isNode(option)||(option=document.createElement("option"),option.appendChild(document.createTextNode(choice.text)),dropdown.appendChild(option)),option.value=choice.val,"init"in opt&&opt.init===choice.text&&(option.selected=!0,dropdown.value=option.value),"instance"in opt&&(option.dataset.instance=opt.instance)}return dropdown.dataset.fsjs=key,dropdown}function textfield(key,opt,node){var tester=void 0===node||null===node?document.createElement("div"):node;return setMissingAttributes(tester,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:opt.editable}),tester.dataset.fsjs=key,tester.dataset.replaceText||(options.initialText?tester.appendChild(document.createTextNode(options.initialText)):!options.initialText&&options.originalText&&tester.appendChild(document.createTextNode(options.originalText)),tester.dataset.replaceText=!0),tester}function buttongroup(key,opt){var group=document.createElement("div");for(var o in opt.choices){var button=document.createElement("button"),choice=helpers.parseParts(opt.choices[o]);button.dataset.choice=choice.val,button.appendChild(document.createTextNode(choice.text)),dom.nodeAddClass(options.classes.buttonClass),opt.init===choice.val&&(button.className=options.classes.buttonSelectedClass),group.appendChild(button)}return group.dataset.fsjs=key,group}function checkboxes(key,opt){var group=document.createElement("div");group.dataset.fsjs=key;for(var o in opt.choices)if(opt.choices.hasOwnProperty(o)){var choice=helpers.parseParts(opt.choices[o]),label=document.createElement("label"),checkbox=document.createElement("input"),text=document.createElement("span");checkbox.setAttribute("type","checkbox"),checkbox.dataset.feature=choice.val,-1!==opt.init.indexOf(Object.values(choice)[0])&&(checkbox.checked=!0),text.appendChild(document.createTextNode(choice.text)),label.appendChild(checkbox),label.appendChild(text),group.append(label)}return group}function setMissingAttributes(node,attributes){if(void 0!==node&&null!==node&&"object"==typeof attributes)for(var a in attributes)attributes.hasOwnProperty(a)&&(node.hasAttribute(a)||node.setAttribute(a,attributes[a]))}return{dropdown:dropdown,slider:slider,label:label,textfield:textfield,buttongroup:buttongroup,checkboxes:checkboxes}}var helpers=_dereq_("./helpers/helpers"),dom=_dereq_("./helpers/dom");module.exports=UIElements},{"./helpers/dom":8,"./helpers/helpers":9}]},{},[7])(7)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(_dereq_,module,exports){function setCursorToEnd(ele){var range=document.createRange(),sel=window.getSelection();range.setStart(ele,1),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range),ele.focus()}function activateTesterUI(e){var header=e.currentTarget.closest(".fontFamilyDetailHeader"),tester=header.querySelector(".tester"),buttons=header.querySelector(".init-buttons");-1===tester.className.indexOf("active")&&(tester.className+=" active",animation&&animation.stop()),-1!==buttons.className.indexOf("active")&&(buttons.className="init-buttons")}function adaptiveFontSize(e){var el=document.querySelector(".tester.fsjs-initialized");if(el){var fontsize=el.dataset.size?parseInt(el.dataset.size):200,text=el.querySelector(".fsjs-block-tester .fsjs-element"),w=parseInt(window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body").clientWidth);factor=Math.min(1,w/1024),text.style.fontSize=fontsize*factor+"px","fontsampler.events.init"===e.type&&window.scrollY<1&&-1===window.location.href.indexOf("#")&&setTimeout(function(){text.focus(),setCursorToEnd(text),text.focus()},500)}}function initCharset(){$.getJSON(mapping,renderTable)}function renderTable(json){var charset=document.querySelector(".charset"),table=document.createElement("div");if(charset&&-1===charset.className.indexOf("fsjs-initialized")){for(var i=0;i<json.length;i++){var uniStr,glyph=document.createElement("div"),uni=document.createElement("span"),uniInt=parseInt(json[i].replace(/\D/gm,""));try{glyph.textContent=String.fromCodePoint(uniInt)}catch(e){glyph.textContent=""}uniInt<parseInt("E000",16)&&(uniStr=uniInt.toString(16).toUpperCase(),uniStr=("0000"+uniStr).slice(-4),uni.textContent=uniStr,glyph.appendChild(uni)),table.appendChild(glyph)}"charsetOptions"in window==!1&&(window.charsetOptions=JSON.parse(JSON.stringify(testerOptions)),window.charsetOptions.order=[["fontfamily","fontsize","wght"],"tester"],window.charsetOptions.config.fontsize={min:12,max:144,init:48},window.charsetOptions.config.tester={editable:!1}),charset.addEventListener("fontsampler.events.init",function(){charset.querySelector("[data-fsjs='tester']").innerHTML=table.innerHTML});var charsetSampler=new Fontsampler(charset,charsetFonts,charsetOptions);Skin(charsetSampler),charsetSampler.init()}}var Fontsampler=_dereq_("../../node_modules/fontsampler-js/dist/fontsampler"),Skin=_dereq_("../../node_modules/fontsampler-js/dist/fontsampler-skin"),VariationAnimation=_dereq_("./variable-animation.js"),animation=null,charsetFonts=[];window.addEventListener("resize",adaptiveFontSize),window.addEventListener("load",function(){function isItalicName(n){try{var lcname=n.toLowerCase();return-1!==lcname.indexOf("italic")||-1!==lcname.indexOf("oblique")}catch(e){return!1}}function getItalic(upright,fonts){if(-1!==upright.name.indexOf("Regular")){var italic=upright.name.replace("Regular","Italic"),oblique=upright.name.replace("Regular","Oblique"),regularMatched=fonts.filter(function(font){return font.name===italic||font.name===oblique});if(regularMatched.length)return regularMatched[0]}var otherMatched=fonts.filter(function(font){return font.name===upright.name+" Italic"||font.name===upright.name+" Oblique"});return!!otherMatched.length&&otherMatched[0]}function getUpright(italic,fonts){var regular=italic.name.replace(/Italic|Oblique/gm,"Regular"),plainItalicMatched=fonts.filter(function(font){return font.name===regular});if(plainItalicMatched.length)return plainItalicMatched[0];var italicMatched=fonts.filter(function(font){return font.name===italic.name.replace(/\sItalic|\sOblique/,"")});return!!italicMatched.length&&italicMatched[0]}var testers=document.querySelectorAll(".tester"),charsetButton=document.querySelector("[href='#charset-modal']");if("undefined"!=typeof testerFonts){if(testerFonts.length)for(var f=0;f<testerFonts.length;f++)"files"in testerFonts[f]==!1&&"undefined"!=typeof testerFiles&&(testerFonts[f].files=testerFiles),"fallback"in testerFonts[f]==!1&&(testerFonts[f].fallback="Notdef Font"),"charset"in testerFonts[f]!=!1&&!0===testerFonts[f].charset||charsetFonts.push(testerFonts[f]);if("undefined"==typeof testerOptions&&(testerOptions={}),void 0===testerOptions.config&&(testerOptions.config={}),void 0===testerOptions.config.fontfamily&&(testerOptions.config.fontfamily={}),testerOptions.config.fontfamily.label=!1,testers.length)for(var i=0;i<testers.length;i++){var el=testers[i];el.className+=" fsjs-loading fsjs-skin";var initBtns=document.createElement("div");initBtns.className="init-buttons active";var editBtn=document.createElement("button");editBtn.innerText="Edit & test",
editBtn.addEventListener("click",activateTesterUI);var scrollBtn=document.createElement("a");scrollBtn.href="#font-family-about",initBtns.appendChild(editBtn),initBtns.appendChild(scrollBtn),scrollBtn.addEventListener("click",function(e){e.preventDefault();try{var href=e.target.href.substring(e.target.href.lastIndexOf("#")),nav=document.querySelector(".navigationLinks a[href='"+href+"']"),evt=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});nav.dispatchEvent(evt)}catch(e){}}),el.parentNode.appendChild(initBtns),testerOptions.initialText=el.dataset.text||"Test & tweak",el.addEventListener("fontsampler.events.init",adaptiveFontSize),el.addEventListener("fontsampler.events.init",function(){var text=el.querySelector(".fsjs-block-tester .fsjs-element");if(text.addEventListener("click",activateTesterUI),text.addEventListener("paste",activateTesterUI),text.addEventListener("keydown",activateTesterUI),text.addEventListener("keyup",activateTesterUI),el.dataset.tagline)try{var tagline=document.createElement("div");tagline.className="tagline",tagline.innerText=el.dataset.tagline,el.insertBefore(tagline,el.querySelector(".fsjs-block-tester").nextSibling)}catch(e){}if(testerFonts.filter(function(font){return isItalicName(font.name)}).length){var italicBtn=document.createElement("button");italicBtn.innerText="It",italicBtn.className="italic",italicBtn.addEventListener("click",function(e){var pair=!1;pair=isItalicName(fs.currentFont.name)?getUpright(fs.currentFont,testerFonts):getItalic(fs.currentFont,testerFonts),pair&&fs.showFont(pair.name),italicBtn.blur()});var fam=el.querySelector(".fsjs-block-fontfamily");fam&&fam.appendChild(italicBtn)}}),el.addEventListener("fontsampler.events.skininit",function(e){if(el.dataset.animate){var sliderHandles=el.querySelectorAll(".rangeSlider__handle"),text=el.querySelector(".fsjs-block-tester .fsjs-element"),animate=el.dataset.animate||"wght",sp=animate.split(","),animateAxis=sp[0]||"wght",animateSpeed=parseInt(sp[1])||5e3,animateFrom=sp[2]||testerOptions.config[animateAxis].min,animateTo=sp[3]||testerOptions.config[animateAxis].max,sliders=el.querySelectorAll(".fsjs-block-type-slider");if(void 0===testerOptions.config[animateAxis])return;if(sliderHandles.length)for(var i=0;i<sliderHandles.length;i++){var span=document.createElement("span");sliderHandles[i].appendChild(span),span.innerText="wght 0"}axes=[{speed:animateSpeed,min:animateFrom,max:animateTo,tag:animateAxis}],animation=VariationAnimation(text,axes,function(variations){for(var tag in variations)fs.setValue(tag,variations[tag])});for(var i=0;i<sliders.length;i++)sliders[i].addEventListener("mouseenter",animation.stop);text.addEventListener("keydown",animation.stop),text.addEventListener("keyup",animation.stop),animation.start()}}),el.addEventListener("fontsampler.events.valuechanged",function(e){var attr=Object.keys(e.detail).filter(function(key){return"fontsampler"!==key})[0];try{var input=e.detail.fontsampler.root.querySelector("[data-fsjs='"+attr+"']"),block=input.closest(".fsjs-block"),label=block.querySelector(".rangeSlider__handle span");input&&label&&(4===attr.length?label.innerText=attr+" "+input.value:label.innerText=input.value)}catch(e){}}),el.addEventListener("fontsampler.events.fontchanged",function(e){var italicBtn=el.querySelector(".italic");italicBtn&&(isItalicName(e.detail.font)?italicBtn.className="italic is-italic":italicBtn.className="italic is-upright")});var fs=new Fontsampler(el,testerFonts,testerOptions);Skin(fs),fs.init()}if(charsetButton&&"undefined"!=typeof mapping){var modal=document.createElement("div");modal.className="modalsWrapper";modal.innerHTML="<div class='fontInUseDetail charset-wrapper' id='charset-modal'>             <div class='inner'>                 <div class='controls'>                     <a href='#' class='closeLink js-hideModal'><i class='ico close'></i><span class='text'>Close</span></a>                 </div>                 <div class='charset'></div>             </div>         </div>",document.getElementsByTagName("body")[0].appendChild(modal);document.querySelector(".charset-wrapper .inner .controls .js-hideModal").addEventListener("click",closeModals),charsetButton.addEventListener("click",initCharset)}}})},{"../../node_modules/fontsampler-js/dist/fontsampler":2,"../../node_modules/fontsampler-js/dist/fontsampler-skin":1,"./variable-animation.js":4}],4:[function(_dereq_,module,exports){function VariationAnimation(_el,_axes,onUpdateValue,setCSS){function getVariation($el){var cur=el.style.fontVariationSettings,variations={};if("normal"===cur||void 0===cur)variations={};else{var parts=cur.split(", ");$.each(parts,function(i,v){v=v.replace(/\"|\'/gm,"").split(" "),variations[v[0].trim()]=v[1].trim()})}return variations}function variationCSS(obj){var str="";for(var key in obj)if(obj.hasOwnProperty(key)&&(key=key.trim(),4===key.length))return str+="'"+key+"' "+obj[key]+", ",str=str.substr(0,str.length-2)}function setVariation(el,variations){var updated=(getVariation(),{}),css="";updated=variations,"function"==typeof onUpdateValue&&onUpdateValue(updated),setCSS&&(css=variationCSS(updated),el.style.fontVariationSettings=css)}function animateAxis(_from,_to){function step(timestamp){if(void 0===start&&(start=timestamp),!paused){var cur,elapsed=timestamp-start,percent=elapsed/duration,eased=parseFloat(easing(percent)),tar={};cur=(to-from)*eased+from,tar[axis.tag]=cur,setVariation(el,tar)}if(!stopped)if(elapsed<duration)window.requestAnimationFrame(step);else{var final={};final[axis.tag]=to,setVariation(el,final);var _from=axis.min,_to=axis.max;axis.min=_to,axis.max=_from,axes[currentAxisIndex]=axis,animateAxis(el,axes)}}var axis=axes[currentAxisIndex];try{var start,duration=parseInt(axis.speed),easing=EasingFunctions.easeInOutCubic,from=parseFloat(axis.min),to=parseFloat(axis.max);if(void 0===from||void 0===to){parseFloat(getVariations(el)[axis.tag])==axis.max?(from=parseFloat(axis.max),to=parseFloat(axis.min)):(from=parseFloat(axis.min),to=parseFloat(axis.max))}setTimeout(function(){window.requestAnimationFrame(step)},0)}catch(e){}}var el=_el,axes=_axes,currentAxisIndex=0,setCSS=!!setCSS,stopped=!0,paused=!0,pausedAt={};return{start:function(){paused=!1,stopped=!1,null!==pausedAt&&(setVariation(el,pausedAt),pausedAt=null),animateAxis(el,axes)},pause:function(){paused=!0,pausedAt=getVariation(el)},stop:function(){paused=!0,pausedAt=null,stopped=!0}}}var EasingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};module.exports=VariationAnimation},{}]},{},[3])(3)});
